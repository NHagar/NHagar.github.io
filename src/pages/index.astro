---
// src/pages/index.astro
import MainLayout from "../layouts/MainLayout.astro";

// Import Components (we will create these in subsequent phases)
import Header from "../components/Header.astro";
import Bio from "../components/Bio.astro";
import ResearchFocus from "../components/ResearchFocus.astro";
import UpdatesSection from "../components/UpdatesSection.astro";
import SoftwareSection from "../components/SoftwareSection.astro";
import PapersSection from "../components/PapersSection.astro";
import BlogSection from "../components/BlogSection.astro";
import MentionsSection from "../components/MentionsSection.astro";
import PrototypesSection from "../components/PrototypesSection.astro";
// import Footer from '../components/Footer.astro'; // Optional footer

// Import Data
import { getCollection } from "astro:content";

const blogsCollection = await getCollection("blog"); // Renamed to avoid conflict if you have a 'blogs' variable
const papersCollection = await getCollection("papers");
const softwareCollection = await getCollection("software");
const prototypesCollection = await getCollection("prototypes");
const mentionsCollection = await getCollection("mentions");
const updatesCollection = await getCollection("updates"); // Renamed for clarity

const pageTitle = "Nick Hagar | Research, Code, Writing";
const pageDescription =
	"Personal website of Nick Hagar, postdoctoral scholar focusing on collective attention, generative AI, and computational journalism. Explore recent work, projects, and publications.";
---

<MainLayout title={pageTitle} description={pageDescription}>
	<div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl py-8 md:py-12">
		<Header />

		<main class="mt-12 space-y-16 md:space-y-24">
			<Bio />
			<ResearchFocus />
			<UpdatesSection updates={updatesCollection} />
			<SoftwareSection softwareItems={softwareCollection} />
			<PapersSection papers={papersCollection} />
			<BlogSection posts={blogsCollection} />
			<MentionsSection mentions={mentionsCollection} />
			<PrototypesSection prototypes={prototypesCollection} />
		</main>
	</div>
</MainLayout>
